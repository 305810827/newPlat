(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b77a226"],{"11ce":function(t,o,n){t.exports=n.p+"img/noLogin.7b2f52a5.png"},"1c14":function(t,o,n){},"3cc8":function(t,o,n){"use strict";n.r(o);var a=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",[n("div",{staticClass:"main"},[n("div",{staticClass:"head"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:200===t.code?t.avatar:t.imgUrl}})]),n("div",{staticClass:"user-name"},[t._v(t._s(t.username))])]),n("div",{staticClass:"person-list"},[200===t.code?n("div",{staticClass:"person-collect",on:{click:function(o){return t.toCollectList()}}},[t._v("我的收藏")]):t._e()]),n("div",{staticClass:"logout"},[200===t.code?n("button",{on:{click:t.logout}},[t._v("退出登录")]):n("button",{on:{click:t.toLogin}},[t._v("登录")])]),n("div",{staticClass:"foot"},[n("div",{staticClass:"fL",on:{click:function(o){return o.stopPropagation(),t.toHome(o)}}},[n("span",{staticClass:"iconfont icon-shouye"}),n("span",[t._v("首页")])]),t._m(0)])])])},e=[function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"fR select"},[n("span",{staticClass:"iconfont icon-wode"}),n("span",[t._v("我的")])])}],s={name:"mine",data:function(){return{code:-1,imgUrl:n("11ce"),username:"未登录",avatar:""}},methods:{toHome:function(){this.$router.push({name:"home"})},toCollectList:function(){this.$router.push({name:"myCollect"})},toLogin:function(){this.$router.push({name:"login"})},logout:function(){var t=this;this.$axios.post("/logout",{token:JSON.parse(localStorage.getItem("token"))}).then((function(o){console.log(o),200==o.data.code&&(localStorage.removeItem("token"),t.toLogin())})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this,o=JSON.parse(localStorage.getItem("token"));o&&this.$axios.post("/login/status",{token:o}).then((function(o){console.log(o),t.code=o.data.code,200===t.code?(t.username=o.data.data.username,t.avatar="http://localhost:9999/upload/"+o.data.data.imgname):-1===t.code&&localStorage.removeItem("token")})).catch((function(t){console.log(t)}))}},c=s,i=(n("f8e5"),n("2877")),l=Object(i["a"])(c,a,e,!1,null,"24f1e7fc",null);o["default"]=l.exports},f8e5:function(t,o,n){"use strict";var a=n("1c14"),e=n.n(a);e.a}}]);
//# sourceMappingURL=chunk-7b77a226.b5f0ecca.js.map